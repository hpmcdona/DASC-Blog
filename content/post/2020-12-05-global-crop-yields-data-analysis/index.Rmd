---
title: Global Crop Yields Data Analysis
author: ~
date: '2020-12-05'
slug: global-crop-yields-data-analysis
categories: []
tags: []
---

```{r, message=FALSE}
library(here)
library(ggplot2)
library(tidyverse)
library(readxl)
library(ggthemes)
knitr::opts_chunk$set(echo = FALSE, tidy = TRUE)
key_crop_yields <- read_csv(here::here("data", "tidytuesday","data","2020","2020-09-01",
                              "key_crop_yields.csv"))
fertilizer <- read_csv(here::here("data", "tidytuesday","data","2020","2020-09-01",
                         "cereal_crop_yield_vs_fertilizer_application.csv"))
tractors <- read_csv(here::here("data", "tidytuesday","data","2020","2020-09-01",
                       "cereal_yields_vs_tractor_inputs_in_agriculture.csv"))
land_use <- read_csv(here::here("data", "tidytuesday","data","2020","2020-09-01",
                       "land_use_vs_yield_change_in_cereal_production.csv"))
arable_land <- read_csv(here::here("data", "tidytuesday","data","2020","2020-09-01",
                          "arable_land_pin.csv"))
```

  My first question is, how does Tractors per 100 sq km arable land affect Total population over time in Ireland? Is there a clear trend that the number tractors affect population growth? To answer this I used the tractors data set, and filtered for the years past 1961 since those are the years with available data. Then I created two graphs, the tractor to arable land ratio over time and the population over time in Ireland and stacked them on top of each other to compare them. What I noticed is that both graphs have similar sections of increasing and decreasing slop up until 1995, from there the tractor ratio continues to decrease while population increases. It think that more tractors mattered more for food production from 1961 til around 1995. It is possible that the wide spread implementation of GMO crops and irrigation made less tractors necessary for more food. So before 1995 in Ireland to make more food more tractors were needed to support a bigger population. But, after 1995 new technology allowed better crop production while needing less tractors. One problem with the data is that the tractor ratio data only goes up to 2005,while the population goes all the way to 2019. So, not having that data could blind us from being able to see any other interesting trends about how much new technology cut down on the need for tractors.

```{r}
p1 <- tractors %>%
  filter(Entity == "Ireland", Year > 1960) %>%
  ggplot(aes(x = Year,y = `Tractors per 100 sq km arable land`)) +
    geom_point() +
  theme_solarized() +
    theme(axis.title.x=element_blank (),
           axis.text.x=element_blank (),
           axis.ticks.x=element_blank (),
          axis.title.y = element_text(size = 8.3),
          title = element_text(size = 10.5)) +
  ylab("Tractors Per 100 sq km Arable Land") +
  ggtitle("Total Population of Ireland vs Tractors Per 100 sq km Arable Land Over Time")
```

```{r}

p2 <- tractors %>%
  filter(Entity == "Ireland", Year > 1960) %>%
  ggplot(aes(x = Year,y = `Total population (Gapminder)`)) +
    geom_point() +
  theme_solarized() +
  theme(axis.text.x = element_text(angle = 60, hjust = 1), axis.title.y = element_text(size = 8.5)) +
  ylab("Total Population of Ireland")
```

```{r, message=FALSE, warning=FALSE}
library(patchwork)
p1 / p2
```


  My second question is, how has the output of potatoes been affected in Ireland from 1961 to 2018? What years had the highest and lowest potato production? To answer this I used the key_crop_yields data set and selected Ireland as the country and the years past 1961. Then I to graphed the output of potatoes vs time in years as a line graph. The exact years that had maximum and minimum potato output were unclear, so I had to take the same data set and arrange it in descending order. From there I used head to get the max potato output and tail to get the min potato output and their associated dates. So, from the graph we can tell that potato production since 1961 has had a lot of booms and busts. The best year for potato output in Ireland was 2017, but as can be seen right after that it tanked. The worst year for potato output was 1981, but from there there was a general upward trend in production. I didn't know that potato farming could be so volatile. The biggest problem I have with this data is that it doesn't go back very far. I would have liked to have seen how the production of potatoes sank during 1845-1849, an event took place known as the potato famine. That famine is what led a lot of Irish people to immigrate to the US. That famine is a great example of how you should never put all your eggs in one basket, because there might be a blight and you'll have nothing else to eat and be forced to immigrate to another continent. Crop failures are still tragic today, but we have many other foods that we can substitute in our diet when that happens.

```{r}
key_crop_yields %>%
  filter(Entity == "Ireland") %>%
  ggplot(aes(x = Year, y = `Potatoes (tonnes per hectare)`)) +
  geom_line() +
  theme_solarized() +
  ggtitle("Potato Output of Ireland (tonnes per hectare) vs Time (years)") +
  ylab("Potato Output (tonnes per hectare)")
key_crop_yields %>%
  filter(Entity == "Ireland") %>%
  select(Year, `Potatoes (tonnes per hectare)`) %>%
  arrange(desc(`Potatoes (tonnes per hectare)`)) %>%
  head(1)
key_crop_yields %>%
  filter(Entity == "Ireland") %>%
  select(Year, `Potatoes (tonnes per hectare)`) %>%
  arrange(desc(`Potatoes (tonnes per hectare)`)) %>%
  tail(1)
```

My third question is, how efficient has Ireland become with producing crops on arable land since 1961? To answer this I needed to use the arable_land data set and use the Arable land needed to produce a fixed quantity of crops ((1.0 = 1961)). The data only began to be recorded after 1960, so the starting point will be 1961 and the end point will be 2014. Then I made a line graph of the variable previously noted over those years and looked for any trends. Overall, the land efficiency of growing crops in Ireland increased from 1964 to around 1980 and has mostly fluctuated around the same area ever since. I believe that the reason for this efficiency could be because of better weather, better infrastructure like irrigation systems, and genetically modified crops that require less water. Also, the GMO crops could prevent crop failures since they can be more resilient to the elements and insects. The main problem I have with the data is that it doesn't include the dates which had crop failures. We could assume that an increase in the land required would mean a failure of some sort but it could also be attributed to other factors. So, having a little more specificity about the dates would be helpful to narrow down why the data moves the way it does.

```{r}
arable_land %>%
  filter(Entity == "Ireland") %>%
  ggplot(aes(x = Year, y = `Arable land needed to produce a fixed quantity of crops ((1.0 = 1961))`)) +
  geom_line() +
  theme_solarized() +
  ylab("Arable Land Needed to Produce Fixed Quantity Crops") +
  ggtitle("Arable Land Needed to Produce a Fixed Quantity of Crops vs Time (years)")
```









